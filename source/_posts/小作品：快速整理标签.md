---
title: 小作品：快速整理标签
tags: [achieve]
---
hexo的标签和分类都不是自己理想的知识整理类型，写个python程序自动整理标签。
os.listdir(dire)、re.split('[\n ]',tagsave)、 list(set(tagsOld).difference(set(tagsNew)))、正则子匹配项处理
小作品：[localhost](http://localhost:8888/notebooks/post/tags.ipynb) [nbviewer](https://nbviewer.jupyter.org/github/cjql/myjupyter/blob/master/post/tags.ipynb) [github](https://github.com/cjql/myjupyter/blob/master/post/tags.ipynb)
<!-- more -->
# 要点
## os.listdir(dire)
## re.split('[\n ]',tagsave)
##  list(set(tagsOld).difference(set(tagsNew)))
## 正则子匹配项处理
# 点评
# 需求分析
# 清单
## 输入是什么
## 给定常量是什么
## 输出是什么
# 问题
# 源码
```py
##自动更新标签分类
## (.*?)([ \n])
## [$1](/tags/$1)$2

import os
# 获取新的标签列表
dire='D:\\blog\\public\\tags\\'
tagsNew=os.listdir(dire)
print('新标签共有:',len(tagsNew))
# print(tagsNew)

#获取旧的标签列表
tagsave='''空闲扩展 思考
achieve todo raw
学习笔记 后续学习
mind fix
核对表
数据结构 基本数据类型
mysql
ML NLP NLTK 文本分析
编程基础
python python基础 jupyter GUI 爬虫
code
book web menu github 转载
wiki one
packtpub
'''
import re
tagsOld=re.split('[\n 、]',tagsave)
print('\n整理过的标签共有:',len(tagsOld))
# print(tagsOld)

#新旧标签对比
old_new=list(set(tagsOld).difference(set(tagsNew)))
print('\n旧标签有而新标签没有：',len(old_new))
print(old_new)
new_old=list(set(tagsNew).difference(set(tagsOld)))
print('\n新标签有而旧标签没有：',len(new_old))
print(new_old)
refinds=re.findall('(.*?)([ \n])',tagsave)
for refind in refinds:
    tagsave=tagsave.replace(refind[0]+refind[1],'[{}](/tags/{}){}'.format(refind[0],refind[0],refind[1]))
print(tagsave)

```
