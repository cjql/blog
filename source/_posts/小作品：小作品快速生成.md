---
title: 小作品：小作品快速生成
date: 2019-12-20
tags: [小作品]
---
一键生产小作品。逐步分析，各个击破。
换行简要处理、标题替换、摘要、要点、路径、more、要点标题、模板
小作品：[localhost](http://localhost:8888/notebooks/post/stubAchieve.ipynb) [nbviewer](https://nbviewer.jupyter.org/github/cjql/myjupyter/blob/master/post/stubAchieve.ipynb) [github](https://github.com/cjql/myjupyter/blob/master/post/stubAchieve.ipynb)
<!-- more -->
# 要点
## 换行简要处理
## 标题替换
## 摘要
## 要点
## 路径
## more
## 要点标题
## 模板
# 点评
# 需求分析
# 清单
## 输入是什么
## 给定常量是什么
## 输出是什么
# 问题
# 代码
```py
#所有输入
title='列表批量生成文章' #文章标题
abstract='分类下的元素也想快速做成文章呢，对笔记很有好处的。' #文章摘要，描述作品是做什么的
gist='每一处改动都赋给新变量、路径注意事项、正则分割与字符串分隔、f.write和f.writeline都需要另外写换行'   #文章要点，用于生产子标题和快速回顾，注意用顿号分隔
url='post/genPostFromList.ipynb' #从‘notebooks/’后面截取

#给定常量
dire='D:\\blog\\source\\_posts\\'

head='''---
title: 小作品：TITLE
tags: [小作品]
---'''

template='''# 点评
# 需求分析
# 清单
## 输入是什么
## 给定常量是什么
## 输出是什么
# 问题
# 源码
```py

```'''

#————————————head标题替换
head=head.replace('TITLE',title)
#————————————摘要无需处理
#————————————要点无需处理
#————————————路径处理。代码的链接
# https://nbviewer.jupyter.org/github/cjql/myjupyter/blob/master/MySQL.ipynb
# http://localhost:8888/notebooks/MySQL.ipynb
urlLocal='http://localhost:8888/notebooks/'+url
urlNbviewer='https://nbviewer.jupyter.org/github/cjql/myjupyter/blob/master/'+url
urlGithub='https://github.com/cjql/myjupyter/blob/master/'+url
url='小作品：[本地路径]({}) [nbviewer]({}) [GitHub]({})'.format(urlLocal,urlNbviewer,urlGithub)
#————————————生成标题
gists='# 要点\n## '+gist
gists=gists.replace('、','\n## ')
#————————————后续模板无需处理
#————————————将依次要输出的内容赋给列表，方便打印
contents=[head,abstract,gist,url,'<!-- more -->',gists,template]
#————————————文件名拼接，注意后缀
fn='{}小作品：{}.md'.format(dire,title)
#————————————写入文件
with open(fn,'w',encoding='utf8') as f:
    for content in contents:
        f.write(content)
        f.write('\n')
print('ok')
```